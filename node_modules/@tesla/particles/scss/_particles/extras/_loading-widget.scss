/*doc

---
title: Loading Widget
category: Extras
---

There are many times when you may want to use a loading widget: data not loading
fast enough, rendering car images from Compositor, AJAX saves to the database
or another service, etc.

**NOTE:** this component is considered an "extra" and are therefore not included in the base installation of Particles. This means that you have to explicitly include it in your Sass files.

<pre>
  <code>
    @import "[../]node_modules/@tesla/particles/scss/_particles/extras/loading-widget";
  </code>
</pre>


## Options

A list of available options current to the loading widget

<table class="table table-compact">
    <thead class="table-head">
        <tr class="table-row">
            <th>Options</th>
            <th>Value</th>
        </tr>
    </thead>
    <tbody class="table-body">
        <tr class="table-row">
            <td><code class="styleguide">section-loader</code></td>
            <td>Basic styling</td>
        </tr>
        <tr class="table-row">
            <td><code class="styleguide">fade-in</code></td>
            <td>Makes the loader appear.</td>
        </tr>
        <tr class="table-row">
            <td><code class="styleguide">fade-out</code></td>
            <td>Fades out the loader.</td>
        </tr>
    </tbody>
</table>


<div class="particles-alert particles-alert--info">
    <strong>Note 1: </strong> the inline <code class="styleguide">style</code>
    attributes are only to be used here on the styleguide. Those should not be
    added when they are used on a website.
</div>

```html_example
<div style="margin: 16px 0; padding: 30px 10px 10px; overflow: hidden; border: 1px solid #ccc; box-shadow: inset 0 0 10px #ddd; background-color: #fafafa; border-radius: 2px; position: relative; height: 200px;">
    <div class="section-loader fade-in" style="position: absolute;"></div>
</div>
```

```sass_example
.section-loader {
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    position: fixed;
    z-index: 1;
    // opacity: 0;
    @include generateLoader();
}
```
*/

@mixin generateLoader(
  $transparency-color: $white,
  $transparency-number: .15,
  $spinner-size: 64px,
  $spinner-speed: 1s,
  $spinner-steps: 8,
  $spinner-duration: infinite,
  $fade-in-speed: .25s,
  $fade-out-speed: .15s) {

  z-index: -1;
  background-color: transparentize($transparency-color, $transparency-number);

  &::before,
  &::after {
    height: $spinner-size;
    width: $spinner-size;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    content: '';
    margin: auto;
    overflow: hidden;
    position: absolute;
    background-position: 0 0;
    background-repeat: no-repeat;
  }

  &::before {
    opacity: $transparency-number;
    background-color: transparentize($white, $transparency-number);
    background-image: url('data:image/svg+xml;charset=utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCI+PGcgZmlsbD0iIzY1NjY2NCI+PHBhdGggZD0iTTE2LjkgMTUuNGMzLjgtMy41IDguNy01LjYgMTQuMi01Ljl2LTdjLTcuNC4zLTE0LjEgMy4yLTE5LjEgOGw0LjkgNC45ek05LjYgMzFjLjItNS41IDIuNC0xMC40IDUuOS0xNC4ybC00LjktNC45Yy00LjcgNS03LjcgMTEuNy03LjkgMTkuMWg2Ljl6TTMzLjEgMi41djdjNS41LjIgMTAuNCAyLjQgMTQuMiA1LjlsNC45LTQuOWMtNS00LjgtMTEuNy03LjctMTkuMS04ek0xNS41IDQ3LjJDMTIgNDMuNCA5LjggMzguNSA5LjYgMzNoLTdjLjIgNy40IDMuMiAxNC4xIDcuOSAxOS4xbDUtNC45ek01NC42IDMzYy0uMiA1LjUtMi40IDEwLjQtNS45IDE0LjJsNC45IDQuOWM0LjctNSA3LjctMTEuNyA3LjktMTkuMWgtNi45ek00OC43IDE2LjhjMy41IDMuOCA1LjYgOC43IDUuOSAxNC4yaDdjLS4yLTcuNC0zLjItMTQuMS03LjktMTkuMWwtNSA0Ljl6TTQ3LjMgNDguNmMtMy44IDMuNS04LjcgNS42LTE0LjIgNS45djdjNy40LS4yIDE0LjEtMy4yIDE5LjEtNy45bC00LjktNXpNMzEuMSA1NC41Yy01LjUtLjItMTAuNC0yLjQtMTQuMi01LjlMMTIgNTMuNWM1IDQuNyAxMS43IDcuNyAxOS4xIDcuOXYtNi45eiIvPjwvZz48L3N2Zz4=');
  }

  &::after {
    background-image: url('data:image/svg+xml;charset=utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iaGlnaGxpZ2h0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDY0IDY0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA2NCA2NCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTQ3LjMsMTUuOWw2LjUtNi41Yy01LjYtNS4zLTEzLjEtOC42LTIxLjQtOC44djkuMkMzOC4yLDEwLDQzLjMsMTIuMyw0Ny4zLDE1Ljl6Ii8+PC9zdmc+');

    animation: spin $spinner-speed steps($spinner-steps) $spinner-duration;
  }

  &.fade-in {
    @include fade-in(opacity, $fade-in-speed, linear)
    z-index: 1;
  }

  &.fade-out {
    @include fade-out(opacity, $fade-out-speed*1.5, linear)
    z-index: 1;
  }

}

.section-loader {
  @include generateLoader;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  position: fixed;
  z-index: 1;
}

@keyframes spin {

  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }

}
