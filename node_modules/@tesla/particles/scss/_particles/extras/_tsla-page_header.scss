// ------------------------------------------------------------
// BE SURE TO ADJUST THE DOCUMENTATION!
// ------------------------------------------------------------
@import 'tsla-page_header.documentation';

// intentionally not part of the sass map so it can be referenced from within the map.
$transparentize_var: .4;

$page_hero_map: (
  base-color: $black,
  alternate-color: $white,
  base-color-hover: transparentize($black, $transparentize_var),
  alternate-color-hover: transparentize($white, $transparentize_var),
  base-color-selected: transparentize($black, $transparentize_var),
  alternate-color-selected: transparentize($white, $transparentize_var),
  base-animation-timing: 150ms
);

.tsla-page_header {
  position: relative;
}

.tsla-page_header--content {
  @include susy-breakpoint($small-desktop) {
    overflow: hidden;

    .container {
      justify-content: space-between;
      flex-flow: row nowrap;
      margin: 45px auto 35px;
      padding: 0 0 25px;
      border-bottom: 1px solid map-get($page_hero_map, base-color);
    }
  }

  @include susy-breakpoint($mobile-only) {
    padding-left: 0;
    padding-right: 0;

    .container {
      flex-flow: column nowrap;
      padding-left: 0;
      padding-right: 0;
    }

  }

  width: 100%;

  .container {
    display: flex;
    align-items: center;
    align-content: center;
  }
}

.tsla-page_header--hero {
  + .tsla-page_header--content {
    top: 0;
    position: absolute;

    .container {
      @include susy-breakpoint($small-desktop) {
        width: calc(100% - #{$gutter * 2});
      }
    }
  }
}

.tsla-page_header--fallback {
  display: block;
}


.tsla-page_header--title {
  @include susy-breakpoint($small-desktop) {
    max-width: 50%;
    min-width: 33%;
  }

  @include susy-breakpoint($mobile-only) {
    order: 2;
    margin: $gutter auto 0;
    text-align: center;
    width: 100%;
  }
}

.tsla-page_header--nav {
  @include susy-breakpoint($small-desktop) {
    max-width: 100%;
    width: auto;
    min-width: 0;

    .tsla-sidescroll-arrow {
      display: none;
    }
  }

  @include susy-breakpoint($mobile-only) {
    justify-content: center;
    width: 100%;

    &.tsla-sidescroll-menu {
      .tsla-nav--list_items {
        justify-content: flex-start;
      }
    }

    .tsla-sidescroll-arrow {
      background: linear-gradient(to left, transparentize(map-get($page_hero_map, base-color), 1) 0%, transparentize(map-get($page_hero_map, base-color), .5) 50%);

      &::after {
        color: map-get($page_hero_map, alternate-color);
      }
    }
  }

  display: flex;
  justify-content: flex-end;
  align-content: center;
  align-items: center;

  .tsla-nav--list_items {
    @include susy-breakpoint($mobile-only) {
      width: 100%;
      order: 1;
      display: flex;
      align-items: center;
      align-content: center;
      justify-content: center;
      text-align: center;
      background-color: transparentize(map-get($page_hero_map, base-color), .5);
    }

    display: flex;
    flex-flow: row nowrap;
    align-content: center;
    align-items: center;
    background-color: transparent;
  }

  .tsla-nav--list_item {
    @include susy-breakpoint($small-desktop) {
      flex: 0 0 auto;
      display: inline;
    }

    margin: 0;
    padding: 15px;
    font-size: 13px;
    line-height: 1;
    list-style-type: none;

    &:first-child {
      padding-left: 0;
    }

    &:last-child {
      padding-right: 0;
    }
  }

  .tsla-nav--item_selected {
    cursor: default;
    font-weight: bold;

    .tsla-nav--list_link:hover {
      cursor: default;
      color: map-get($page_hero_map, base-color);
    }
  }

  .tsla-nav--list_link {
    color: map-get($page_hero_map, base-color);
    transition: color map-get($page_hero_map, base-animation-timing) linear;

    &:hover {
      color: map-get($page_hero_map, base-color-hover);
      transition: color map-get($page_hero_map, base-animation-timing) linear;
    }
  }
}

// Alternate Styling
.tsla-page_header--alternate {

  @include susy-breakpoint($mobile-only) {
    .tsla-sidescroll-menu {
      .tsla-nav--list_items {
        background-color: transparentize(map-get($page_hero_map, alternate-color), .5);
      }

      .tsla-sidescroll-arrow {
        background: linear-gradient(to left, transparentize(map-get($page_hero_map, alternate-color), 1) 0%, transparentize(map-get($page_hero_map, alternate-color), .5) 50%);

        &::after {
          color: map-get($page_hero_map, base-color);
        }
      }
    }
  }

  .tsla-page_header--title {
    color: map-get($page_hero_map, alternate-color);
    text-shadow: 0 1px $black;
  }

  .tsla-nav--list_link {
    color: map-get($page_hero_map, alternate-color);
    text-shadow: 0 1px $black;

    &:hover {
      color: map-get($page_hero_map, alternate-color-hover);
    }
  }

  .tsla-nav--item_selected {
    .tsla-nav--list_link:hover {
      color: map-get($page_hero_map, alternate-color);
    }
  }

  .container {
    border-bottom-color: map-get($page_hero_map, alternate-color);
  }
}

