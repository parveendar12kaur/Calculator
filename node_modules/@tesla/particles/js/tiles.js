$(document).ready(function() {

  $('.code-example').on('click', '.code-block', function() {
    var $this = $(this),
        arrowElement = $this.find('i'),
        isToggled;

    isToggled = $this.hasClass('is-collapsed') ? '&#9660;' : '&#9650;';

    $this.toggleClass('is-collapsed');
    arrowElement.html(isToggled).toggleClass('icon-arrow-down icon-arrow-up');

  });

  $('.tsla-card_container').on('click', '.tsla-card_tile', function() {
    var $this = $(this);
    if ($this.hasClass('tsla-card-has_overlay')) {
      var toCopy = $this.find('.tsla-card_tile--meta').text();

      copyColorVariable(toCopy, $this);

    }
  });

  // create temporary input holder for copying to clipboard
  // once copied, destroy temp input holder
  // if copy is successful, alert the user
  function copyColorVariable(text) {

    var $tempInput = document.createElement('input'),
        $body = document.getElementsByTagName('body')[0];

    $tempInput.value = text;

    $body.appendChild($tempInput);
    $tempInput.select();

    try {
      success = document.execCommand('copy');
    } catch (e) {
      console.log('Was unable to copy');
    }
    if (success) {
      // remove temp element.
      $tempInput.remove();
    }
  }
});
