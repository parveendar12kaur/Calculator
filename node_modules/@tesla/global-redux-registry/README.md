### tesla-global-redux-state ( ReducerRegistry)

#### Shared global state using Redux + Redux-Observable

Exposes a global object that allows multiple React applications to share a single Redux store.

*Note:* This module is still a work in progress

##### Basic Usage:
import dist/js/tesla-redux-registry.js into your page
```
<script src='tesla-redux-registry.js'></script>
<script>
    if(!window.tesla.registry) {
        window.tesla.registry = {}
    }
    // add unique names of the applications you wish to register
	window.tesla.registry.requiredModules = ['AppName1', 'AppName2']
</script>
<body>
    <div id='calculator'></div>
</body>
```

// in your react application's entry index.js
```
import Main from 'components/Main'
const APP_NAME = 'AppName1'
const reducerRegistry = _get(window, 'tesla.reducerRegistry')

const reducerA = function(state = {}, action) { return state }
const reducerB = function(state = {}, action) { return state }

// object with application reducers, scoped with application name
const reducers = {
    [`${APP_NAME}/ReducerA`]: ReducerA,
    [`${APP_NAME}/ReducerB`]: ReducerB   
}

if(reducerRegistry) {
   // register your reducers with the reducerRegistry.register method
    reducerRegistry.register({id:APP_NAME, reducers}, (store) => {
    // callback will fire when all requiredModules have called the register         
		render(
		    <Provider store={store}>
		        <Main />
		    </Provider>,
		    document.getElementById('calculator')
		)
    })
}
```

MyComponent.js (redux connected component)
```
// reducers are scoped to APP_NAME
function mapStateToProps (state, ownProps) {
    const {prop1, prop2} = _get(state, `${APP_NAME}/ReducerA`)
    return {
        prop1,
        prop2
    }
}

#### Methods

subscribe(listener)
ready(listener) // called when all required modules have registered
register({id -- required],reducer -- required,epics -- optional,initialState -- optional,cb --required})
getStore()
getState()


export default connect(mapStateToProps)(MyComponent)
```