/* eslint-disable no-unused-vars */
function modalOpen(selector) {
  document.querySelector(selector).classList.remove('hidden');
  document.body.classList.add('tsla-prevent-scroll');

  setTimeout(() => {
    document.querySelector(selector).classList.add('tsla-modal--will_fade_in');
  }, 0);
}

function modalclose(selector) {
  document.querySelector(selector).classList.remove('tsla-modal--will_fade_in');
  document.body.classList.remove('tsla-prevent-scroll');

  setTimeout(() => {
    document.querySelector(selector).classList.add('hidden');
  }, 150);
}

// listening for Esc event for closing opened modal
document.onkeyup = (e) => {
  const openedModal = document.querySelector('.tsla-modal--will_fade_in');

  if (openedModal) {
    const escStatus = openedModal.getAttribute('data-closeonescape');
    if (escStatus === 'true') {
      const openedModalId = `#${openedModal.getAttribute('id')}`;
      const evt = e || window.event;
      if (evt.keyCode === 27) {
        modalclose(openedModalId);
      }
    }
  }
};
