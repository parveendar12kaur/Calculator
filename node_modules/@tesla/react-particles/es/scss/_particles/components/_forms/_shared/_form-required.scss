@import '~sass-import-once/sass-import-once';
@import '../../../_shared/component-required';
@import 'form-required.documentation';

@include exports('form-required') {

  .form-alternate {
    padding: 10px;
    margin-bottom: 10px;
    background-color: $grey-background-color;
  }

  .form-large {

    .form-label {
      font-size: 24px;
      line-height: 30px;
    }

    .form-text,
    [type='text'],
    [type='select'] {
      padding-left: 20px;
      padding-top: 20px;
      padding-bottom: 20px;
    }

    &.form-inline {

      .input-prepend {
        padding: 14px;

      }

    }

  }

  .form-inline {

    .form-label {
      padding-bottom: 0;
      text-transform: inherit;
    }

    .form-text,
    [type='text'],
    [type='select'] {
      background-color: $white;
    }

    .input-prepend {
      @include light;
      padding:  5px 10px;

      top: 0;
      right: 0;
      position: absolute;
      height: 100%;
      z-index: 1;

      color: $grey-3;

      + .form-text {
        padding-right: 90px;
      }
    }
  }

  .form-item {
    margin-bottom: 17px;
    position: relative;

    // Form Error Styling
    // ------------------------------------------------------------------------
    [class*='error'] {
      color: $tesla-primary;
      border-color: $tesla-primary;

      &:active,
      &:focus {
        color: $black;
        border-color: $black;
      }

      [class*='error'] {
        color: $tesla-primary;
        border-color: $tesla-primary;
      }
    }

    [class*='required'],
    [class*='errors-list'] {
      font-size: 12px;
    }

    [class*='errors-list'] {
      bottom: -15px;
      right: 0;
      width: 100%;
      margin-top: 0;
      position: absolute;
      text-align: right;

      [class*='required'] {
        color: $tesla-primary;
        border-color: $tesla-primary;
      }
    }
  }

  .form-label {
    @include fontstack-primary('Gotham Medium');
    font-size: 11px;
    line-height: 15px;
    padding-bottom: 5px;
    display: block;
    text-transform: uppercase;
    position: relative;
    cursor: pointer;
    color: $form-label-color;

    .form-type-item & {
      cursor: default;
    }

    .form-type-date & {
      margin-right: 5px;
    }

    // @TODO: move this back to Drupal
    .pane-apachesolr-form & {
      display: none;
    }

  }

  // Date time selector
  .container-inline {

    .form-type-select {
      margin-left: 20px;

      &:first-child {
        margin-left: 0;
      }

    }

    .form-label {
      top: -13px;
      position: relative;
    }

  }


  // --- Flyouts for long error messages
  // -------------------------------------------------------------------------
  .flyout {
    top: -54px;
    max-width: 200px;
    padding:  5px 10px;
    width: 100%;
    display: block;
    position: absolute;
    border: 1px solid $tesla-primary;
    background-color: $white;
    text-align: left;

    &::before,
    &::after {
      width: 0;
      height: 0;
      display: block;
      position: absolute;
      border-style: solid;
      content: '';
      transform: rotate(360deg);
    }

    &::before {
      z-index: 20;
    }

    &::after {
      z-index: 10;
    }

    &.is-left {
      right: -210px;

      &::before {
        left: -7px;
        top: 10px;
        border-width: 8px 7px 8px 0;
        border-color: transparent $white transparent transparent;
      }

      &::after {
        left: -8px;
        top: 10px;
        border-width: 8px 7px 8px 0;
        border-color: transparent $tesla-primary transparent transparent;
      }
    }

    &.is-right {
      left: -210px;

      &::before {
        right: -7px;
        top: 10px;
        border-width: 8px 0 8px 7px;
        border-color: transparent transparent transparent $white;
      }

      &::after {
        right: -8px;
        top: 10px;
        border-width: 8px 0 8px 7px;
        border-color: transparent transparent transparent $tesla-primary;
      }

    }

  }

}
