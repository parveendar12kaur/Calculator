@import '~sass-import-once/sass-import-once';
@import '../_shared/component-required';

// ------------------------------------------------------------
// BE SURE TO ADJUST THE DOCUMENTATION!
// ------------------------------------------------------------
@import 'tsla-tooltip.documentation';

@include exports('tsla-tooltip') {

  $tooltip-arrow-size: 14px;
  $tooltip-color: #5b5b5d !default;
  $tool-tip-padding: 20px;
  $tool-tip-transition: 4px !default;
  $tool-tip-transition-time: .25s !default;

  .tsla-tooltip {
    @include susy-breakpoint($small-desktop) {
      position: relative;
    }
    box-sizing: border-box;
    cursor: pointer;

    &.link {
      text-decoration: underline;
    }

    &::before,
    &::after {
      box-sizing: inherit;
      opacity: 0;
      pointer-events: none;
      position: absolute;
      transform: translate3d(0, 0, 0);
      transition: opacity $tool-tip-transition-time ease-in-out,
      visibility $tool-tip-transition-time ease-in-out,
      transform $tool-tip-transition-time ease-in-out;
      visibility: hidden;
    }

    &::before {
      background: transparent;
      border: 14px solid transparent;
      content: '';
      z-index: 1001;
    }

    &::after {
      @include susy-breakpoint($small-desktop) {
        bottom: -($tool-tip-padding);
      }
      background-color: $tooltip-color;
      color: $white;
      content: attr(data-tooltip);
      font-size: 14px;
      left: calc(100% + 2px);
      line-height: 17px;
      padding: $tool-tip-padding;
      text-align: center;
      width: 280px;
      z-index: 1000;
    }

    &:hover,
    &:focus {
      &::before,
      &::after {
        opacity: 1;
        visibility: visible;
      }
    }

    @include susy-breakpoint($mobile-only) {
      &::before {
        border-bottom-color: $tooltip-color;
      }

      &::after {
        align-items: center;
        display: flex;
        justify-content: center;
        left: 0;
        position: absolute;
        right: 0;
        width: 100%;
      }
    }

    @include susy-breakpoint($small-desktop) {
      // Directions
      &.north-west,
      &.north-east {
        &::before {
          border-bottom-color: $tooltip-color;
          margin-top: -(($tooltip-arrow-size / 2) + $tool-tip-transition);
          top: 100%;
        }

        &::after {
          bottom: inherit;
          left: inherit;
          margin-top: ($tool-tip-padding - $tool-tip-transition);
          top: 100%;
        }

        &.animate {
          &:hover,
          &:focus {
            &::before,
            &::after {
              transform: translateY($tool-tip-transition);
            }
          }
        }
      }

      &.north-west {
        &::before {
          left: 50%;
          margin-left: -($tooltip-arrow-size);
        }

        &::after {
          left: -($tool-tip-padding);
        }
      }

      &.north-east {
        &::before {
          margin-right: -($tooltip-arrow-size);
          right: 50%;
        }

        &::after {
          right: -($tool-tip-padding);
        }
      }

      &.east-north,
      &.east-south {
        &::before {
          border-left-color: $tooltip-color;
          margin-right: -(($tooltip-arrow-size / 2) + $tool-tip-transition);
          right: 100%;
        }

        &::after {
          bottom: inherit;
          left: inherit;
          margin-right: ($tool-tip-padding - $tool-tip-transition);
          right: 100%;
        }

        &.animate {
          &:hover,
          &:focus {
            &::before,
            &::after {
              transform: translateX(-$tool-tip-transition);
            }
          }
        }
      }

      &.east-north {
        &::before {
          margin-top: -($tooltip-arrow-size);
          top: 50%;
        }

        &::after {
          top: -($tool-tip-padding);
        }
      }

      &.east-south {
        &::before {
          bottom: 50%;
          margin-bottom: -($tooltip-arrow-size);
        }

        &::after {
          bottom: -($tool-tip-padding);
        }
      }

      &.south-west,
      &.south-east {
        &::before {
          border-top-color: $tooltip-color;
          bottom: 100%;
          margin-bottom: -(($tooltip-arrow-size / 2) + $tool-tip-transition);
        }

        &::after {
          bottom: 100%;
          left: inherit;
          margin-bottom: ($tool-tip-padding - $tool-tip-transition);
          top: inherit;
        }

        &.animate {

          &:hover,
          &:focus {
            &::before,
            &::after {
              transform: translateY(-$tool-tip-transition);
            }
          }
        }
      }

      &.south-west {
        &::before {
          left: 50%;
          margin-left: -($tooltip-arrow-size);
        }

        &::after {
          left: -($tool-tip-padding);
        }
      }

      &.south-east {
        &::before {
          margin-right: -($tooltip-arrow-size);
          right: 50%;
        }

        &::after {
          right: -($tool-tip-padding);
        }
      }

      &.west-north,
      &.west-south {
        &::before {
          border-right-color: $tooltip-color;
          left: 100%;
          margin-left: -(($tooltip-arrow-size / 2) + $tool-tip-transition);
        }

        &::after {
          bottom: inherit;
          left: 100%;
          margin-left: ($tool-tip-padding - $tool-tip-transition);
        }

        &.animate {
          &:hover,
          &:focus {
            &::before,
            &::after {
              transform: translateX($tool-tip-transition);
            }
          }
        }
      }

      &.west-north {
        &::before {
          margin-top: -($tooltip-arrow-size);
          top: 50%;
        }

        &::after {
          top: -($tool-tip-padding);
        }
      }

      &.west-south {
        &::before {
          bottom: 50%;
          margin-bottom: -($tooltip-arrow-size);
        }

        &::after {
          bottom: -($tool-tip-padding);
        }
      }
    }
  }

}
