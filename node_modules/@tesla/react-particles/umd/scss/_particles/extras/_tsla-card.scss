@import '~sass-import-once/sass-import-once';
@import '../_shared/component-required';

@include exports('tsla-card') {

  .tsla-card {

    &_container {
      display: flex;
      flex-flow: row wrap;
      justify-content: flex-start;
      align-items: stretch;
      align-content: center;
    }

    &_tile {
      margin-top: $gutter / 2;
      margin-bottom: $gutter / 2;
      min-width: calc(25% - #{$gutter / 2});
      max-width: calc(25% - #{$gutter / 2});
      position: relative;
      border: 1px solid $white;
      text-align: center;
      cursor: pointer;

      &:nth-child(2n+2) {
        margin-right: $gutter / 2;
        margin-left: $gutter / 2;
      }

    }

    &_tile--asset {
      padding: $gutter;
      min-height: 155px;
      display: flex;
      flex-flow: column nowrap;
      justify-content: center;
      align-items: center;
      align-content: center;
      position: relative;

      border: 1px solid transparentize($grey-c, .5);
      border-bottom: 1px solid $grey-c;
      background-color: $grey-background-color-lightest;
    }

    &_tile--meta {
      @include fontstack-monospace;
      font-size: 13px;
      min-height: 50px;
      padding: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: $white;

      text-align: center;
      overflow-wrap: break-word;
      border-right: 1px solid transparentize($grey-c, .5);
      border-bottom: 1px solid transparentize($grey-c, .5);
      border-left: 1px solid transparentize($grey-c, .5);
    }

    &-has_overlay {

      &:hover {

        .tsla-card_tile--asset {

          &::before {
            box-shadow: inset 0 0 90px transparentize($black, .6);
            background-color: transparentize($grey-3, .5);
            transition: background-color 150ms linear, box-shadow 150ms linear;
          }

          &::after {
            opacity: 1;
            transform: scale(1);
            transition: opacity 150ms linear, transform 150ms linear;
          }

        }

      }

      .tsla-card_tile--asset {

        &::before,
        &::after {
          @include fontstack-monospace;
          font-size: 13px;
          position: absolute;
          display: flex;
          justify-content: center;
          align-items: center;
          width: 100%;
          height: 100%;
          white-space: pre;
          color: $white;
          transition: background-color 150ms linear, box-shadow 150ms linear;
        }

        &::before {
          content: '';
          background-color: transparent;
          box-shadow: 0 0 0;

          transition: background-color 150ms linear, box-shadow 150ms linear;
        }

        &::after {
          content: attr(data-hex) '\A' attr(data-rgb);
          transform: scale(0);
          opacity: 0;
          transition: opacity 150ms linear, transform 150ms linear;
        }

      }

      &:active {

        .tsla-card_tile--asset {

          &::before {
            content: 'copied!';
          }

          &::after {
            content: '';
          }

        }

      }
    }
  }

}
