# Matching

Agent supports inventory matching feature which will update the inventory vehicle manufacturing options according fthe matching group rules to match it with customers order


## Matching rules

We inject `matching rules` to `manufacturing lexicon` with a new `context` **matching**. You can check file in `/tests/fixtures/matchingLexcion.json` about the details.

## Matching workflow

1. Given customer order manufacturing option list, inventory vehicle manufacturing option list and inventory vehicle manufacturing lexicon (with matching rules defined)
2. Compare customer's expectation with inventory vehicles options, and get the diffs. Then iterate matching rules to get the matching actions.
3. Apply matching actions with `toggleOptions`
4. Return updated inventory vehicle manufacturing options

For more details, please check the unit tests in `/tests/matching`